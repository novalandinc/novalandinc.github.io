/* =========================================================
   Duplicates Auditor â€” styles.css
   (Group-level horizontal scroll; full-width columns)
   ========================================================= */

/* Light, high-contrast theme */
:root{
  --bg:#f8fafc; --panel:#ffffff; --card:#ffffff; --muted:#475569; --text:#0f172a;
  --accent:#2563eb; --accent-2:#10b981; --border:#e2e8f0; --danger:#b91c1c; --ok:#047857;
  --shadow:0 1px 1px rgba(15,23,42,.04), 0 2px 8px rgba(15,23,42,.06);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;background:var(--bg);
  color:var(--text);
  font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
}
.container{max-width:1200px;margin:0 auto;padding:20px}

/* Header */
.site-header{
  position:sticky;top:0;z-index:50;background:var(--panel);
  border-bottom:1px solid var(--border);padding:12px 20px;
  display:flex;align-items:center;justify-content:space-between;box-shadow:var(--shadow)
}
.brand{display:flex;gap:12px;align-items:center}
.logo{width:32px;height:32px;border-radius:8px;background:#e2e8f0;display:flex;align-items:center;justify-content:center;font-weight:800;color:#1e293b}
.title{font-weight:800}
.subtitle{color:var(--muted);font-size:12px}
.icon-button{border:1px solid var(--border);background:#fff;color:var(--text);border-radius:10px;padding:6px 10px;cursor:pointer}

/* Cards & layout */
.card{border:1px solid var(--border);border-radius:14px;background:var(--card);padding:16px;box-shadow:var(--shadow)}
.primary{background:linear-gradient(90deg,var(--accent),#60a5fa);border:none;color:#fff;font-weight:700;padding:10px 14px;border-radius:10px;cursor:pointer}
.secondary{background:#fff;border:1px solid var(--border);color:var(--text);padding:8px 12px;border-radius:10px;cursor:pointer}
.small{font-size:12px}
.wide{width:100%}
.muted{color:var(--muted)}
.hint{margin-top:8px;line-height:1.4}

/* Layout */
.layout{display:grid;grid-template-columns:320px 1fr;gap:16px}
.sidebar .steps{color:var(--muted)}
.sidebar .steps li{margin:6px 0}
.settings .group{display:grid;gap:6px;margin:10px 0}
.checkbox{display:flex;gap:8px;align-items:flex-start}

/* Tabs */
.tabs{display:flex;gap:8px;margin:0 0 12px 0}
.tab{
  border:1px solid var(--border);background:#fff;color:var(--text);border-radius:999px;
  padding:6px 12px;cursor:pointer;font-weight:600
}
.tab.active{background:#eff6ff;border-color:#bfdbfe}

/* Dropzone */
.uploader{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}
.dropzone{border:2px dashed var(--border);border-radius:12px;padding:16px;cursor:pointer;background:#fff}
.dropzone:focus{outline:3px solid #bfdbfe;outline-offset:2px}
.dropzone.drag{background:#f8fafc;border-color:#bfdbfe}
.dz-title{font-weight:700;margin-bottom:4px}
.dz-sub{color:var(--muted);font-size:12px}

/* Results controls */
.result-controls{display:flex;gap:10px;align-items:center;justify-content:flex-end;margin-bottom:10px;flex-wrap:wrap}
.segmented{display:inline-flex;border:1px solid var(--border);border-radius:8px;overflow:hidden;background:#fff}
.seg{background:#fff;border:none;padding:6px 10px;cursor:pointer;font-size:12px}
.seg.active{background:#eff6ff}
.search{min-width:220px;border:1px solid var(--border);border-radius:8px;background:#fff;color:var(--text);padding:6px 10px}
.search::placeholder{color:#64748b}

/* Accordion */
.acc{margin-top:10px}
.acc > summary{
  list-style:none;cursor:pointer;
  border:1px solid var(--border);border-radius:10px;padding:8px 12px;background:#fff;
  display:flex;align-items:center;gap:10px;font-weight:600;box-shadow:var(--shadow)
}
.acc[open] > summary{border-bottom-left-radius:0;border-bottom-right-radius:0}
.acc .acc-body{
  border:1px solid var(--border);border-top:none;border-bottom-left-radius:10px;border-bottom-right-radius:10px;
  padding:12px;background:#fff
}
.badge{border:1px solid var(--border);padding:2px 8px;border-radius:999px;font-size:12px;background:#f1f5f9}

/* Grouped duplicates */
.dup-group{
  border:1px solid var(--border);
  border-radius:12px;
  padding:10px;         /* keep tidy margins */
  margin:10px 0;
  background:#fff;
  box-shadow:var(--shadow);
  overflow-x:auto;      /* <-- the whole panel scrolls horizontally */
}

/* Header chip row in each group */
.dup-head{display:flex;gap:10px;align-items:center;justify-content:space-between;flex-wrap:wrap}
.dup-meta{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
.kv{display:inline-flex;gap:6px;align-items:center;padding:4px 8px;border:1px solid var(--border);border-radius:999px;font-size:12px;background:#f8fafc}
.kv .k{color:var(--muted)}
.group-actions{display:flex;gap:8px;align-items:center}
.link-btn{background:transparent;border:none;color:var(--accent);cursor:pointer;font-size:12px;text-decoration:underline}
.count-chip{font-size:12px;border:1px solid var(--border);padding:2px 8px;border-radius:999px;background:#f1f5f9}

/* ---------- Table: full-width columns, scroll via .dup-group ---------- */
.table-wrap{
  margin-top:8px;
  border:none;
  padding:0;
}
.table{
  /* Let columns size to their content (no ellipsis) and allow overflow
     to create a horizontal scrollbar on the .dup-group wrapper. */
  width:auto;            /* shrink-to-fit */
  min-width:100%;        /* but never smaller than the panel */
  border-collapse:separate;
  border-spacing:0;
  table-layout:auto;     /* content-driven widths */
}
.table th,.table td{
  border-bottom:1px solid var(--border);
  padding:8px;
  text-align:left;
  vertical-align:top;
  background:#fff;
  white-space:nowrap;    /* keep long addresses on one line */
  overflow:visible;      /* show full text; width will expand the table */
}
.table th{
  color:#334155;font-size:12px;position:sticky;top:0;background:#fff;z-index:2;
}

/* Sticky first column behaves relative to .dup-group scroll container */
.table td:first-child,
.table th:first-child{
  position:sticky;left:0;background:#fff;z-index:3;box-shadow:1px 0 0 var(--border);
}

/* Column visibility */
.cols-basic .col-extra{display:none}

/* Pager */
.pager{display:flex;gap:10px;align-items:center;justify-content:flex-end;margin-top:10px;flex-wrap:wrap}
.page-btn{border:1px solid var(--border);background:#fff;border-radius:8px;padding:6px 10px;cursor:pointer}
.page-btn[disabled]{opacity:.5;cursor:not-allowed}
.page-size{border:1px solid var(--border);border-radius:8px;padding:6px 10px;background:#fff;color:var(--text)}
.page-info{color:var(--muted);font-size:12px}

/* Misc */
.row{display:flex;gap:12px}
.hidden{display:none}
.site-footer{margin:32px 0 60px;color:var(--muted);text-align:center}

/* Progress Bar */
.progress-container{width:100%;margin:12px 0}
.progress-label{font-size:12px;color:var(--muted);margin-bottom:4px}
.progress-bar{width:100%;height:10px;background-color:#eef2f7;border-radius:4px;overflow:hidden;border:1px solid var(--border)}
.progress-fill{height:100%;background:linear-gradient(90deg,var(--accent),var(--accent-2));border-radius:4px;transition:width .3s ease;width:0%}
.progress-text{font-size:11px;color:#334155;text-align:center}

/* Focus states for a11y */
:focus-visible{outline:3px solid #bfdbfe;outline-offset:2px}

/* Responsive */
@media (max-width:980px){
  .layout{grid-template-columns:1fr}
  .uploader{grid-template-columns:1fr}
}
